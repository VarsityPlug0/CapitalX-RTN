{% extends "emails/base_email.html" %}

{% block content %}
<div class="greeting">
    Deposit Confirmation - {{ app_name|default:"CapitalX" }} üéØ
</div>

<div class="main-content">
    <p>Hello {{ user.full_name|default:user.username }},</p>

    <p>We've received your deposit request and it's currently being processed. Here are the details:</p>

    <div class="info-box">
        <h3>üí∞ Transaction Details:</h3>
        <table style="width: 100%; border-collapse: collapse;">
            <tr>
                <td style="padding: 8px 0; border-bottom: 1px solid #eee;"><strong>Amount:</strong></td>
                <td style="padding: 8px 0; border-bottom: 1px solid #eee; text-align: right;">R{{ deposit.amount }}</td>
            </tr>
            <tr>
                <td style="padding: 8px 0; border-bottom: 1px solid #eee;"><strong>Payment Method:</strong></td>
                <td style="padding: 8px 0; border-bottom: 1px solid #eee; text-align: right;">{{
                    deposit.get_payment_method_display }}</td>
            </tr>
            <tr>
                <td style="padding: 8px 0; border-bottom: 1px solid #eee;"><strong>Date:</strong></td>
                <td style="padding: 8px 0; border-bottom: 1px solid #eee; text-align: right;">{{
                    deposit.created_at|date:"F j, Y" }}</td>
            </tr>
            <tr>
                <td style="padding: 8px 0;"><strong>Status:</strong></td>
                <td style="padding: 8px 0; text-align: right;">
                    <span style="color: #f39c12; font-weight: bold;">{{ deposit.get_status_display }}</span>
                </td>
            </tr>
        </table>
    </div>

    {% if deposit.payment_method == 'bitcoin' %}
    <div class="info-box">
        <h3>‚Çø Bitcoin Details:</h3>
        <p><strong>Bitcoin Amount:</strong> {{ deposit.bitcoin_amount }} BTC</p>
        <p><strong>Transaction ID:</strong> <code>{{ deposit.bitcoin_txid }}</code></p>
        <p><strong>Bitcoin Address:</strong> <code>{{ deposit.bitcoin_address }}</code></p>
    </div>
    {% endif %}

    {% if deposit.payment_method == 'voucher' %}
    <div class="info-box">
        <h3>üé´ Voucher Details:</h3>
        <p><strong>Voucher Code:</strong> <code>{{ deposit.voucher_code }}</code></p>
        {% if deposit.voucher_image %}
        <p><strong>Voucher Image:</strong> Attached to your deposit</p>
        {% endif %}
    </div>
    {% endif %}

    <div class="info-box">
        <h3>‚è±Ô∏è Processing Time:</h3>
        <ul style="margin-left: 20px;">
            <li><strong>Card Payments:</strong> Instant (within minutes)</li>
            <li><strong>EFT Transfers:</strong> 1-3 business days</li>
            <li><strong>Bitcoin:</strong> 1-24 hours (depending on network)</li>
            <li><strong>Vouchers:</strong> 1-24 hours (manual verification)</li>
        </ul>
    </div>

    <div style="text-align: center; margin: 30px 0;">
        <a href="{{ site_url|default:'http://localhost:8000' }}/wallet" class="btn">View Wallet</a>
        <a href="{{ site_url|default:'http://localhost:8000' }}/dashboard" class="btn btn-secondary"
            style="margin-left: 10px;">Go to Dashboard</a>
    </div>

    <p><strong>What's Next?</strong></p>
    <ol style="margin-left: 20px;">
        <li>Wait for confirmation (you'll receive an email)</li>
        <li>Funds will be added to your wallet</li>
        <li>Start investing in your chosen opportunities</li>
        <li>Track your portfolio growth</li>
    </ol>

    <p>If you have any questions about this deposit, please don't hesitate to contact our support team.</p>

    <p>Happy investing!</p>
    <p>The {{ app_name|default:"CapitalX" }} Team</p>
</div>
{% endblock %}