{% extends "core/emails/base_email.html" %}

{% block content %}
<div class="greeting">
    EFT Deposit Confirmation - CapitalX üéØ
</div>

<div class="main-content">
    <p>Hello {{ user.full_name|default:user.username }},</p>
    
    <p>We've received your EFT deposit request and it's currently being processed. Here are the details:</p>
    
    <div class="info-box">
        <h3>üèõÔ∏è EFT Transaction Details:</h3>
        <table style="width: 100%; border-collapse: collapse;">
            <tr>
                <td style="padding: 8px 0; border-bottom: 1px solid #eee;"><strong>Amount:</strong></td>
                <td style="padding: 8px 0; border-bottom: 1px solid #eee; text-align: right;">R{{ deposit.amount }}</td>
            </tr>
            <tr>
                <td style="padding: 8px 0; border-bottom: 1px solid #eee;"><strong>Payment Method:</strong></td>
                <td style="padding: 8px 0; border-bottom: 1px solid #eee; text-align: right;">{{ deposit.get_payment_method_display }}</td>
            </tr>
            <tr>
                <td style="padding: 8px 0; border-bottom: 1px solid #eee;"><strong>Date:</strong></td>
                <td style="padding: 8px 0; border-bottom: 1px solid #eee; text-align: right;">{{ deposit.created_at|date:"F j, Y" }}</td>
            </tr>
            <tr>
                <td style="padding: 8px 0;"><strong>Status:</strong></td>
                <td style="padding: 8px 0; text-align: right;">
                    <span style="color: #f39c12; font-weight: bold;">{{ deposit.get_status_display }}</span>
                </td>
            </tr>
        </table>
    </div>
    
    {% if deposit.admin_notes %}
    <div class="info-box">
        <h3>üìù Reference Information:</h3>
        <p><strong>Your Reference:</strong> {{ deposit.admin_notes }}</p>
    </div>
    {% endif %}
    
    {% if deposit.proof_image %}
    <div class="info-box">
        <h3>üì∑ Proof of Payment:</h3>
        <p>‚úÖ Proof of payment uploaded successfully</p>
        <p><a href="{{ site_url }}{{ deposit.proof_image.url }}" target="_blank">View your proof of payment</a></p>
    </div>
    {% else %}
    <div class="info-box" style="border-left: 4px solid #dc3545;">
        <h3>‚ö†Ô∏è Action Required:</h3>
        <p><strong>Please upload your proof of payment to complete your deposit.</strong></p>
        <p><a href="{{ site_url|default:'https://capitalx-rtn.onrender.com' }}/wallet" class="btn" style="background: #dc3545;">Upload Proof of Payment</a></p>
    </div>
    {% endif %}
    
    <div class="info-box">
        <h3>‚è±Ô∏è Processing Time:</h3>
        <ul style="margin-left: 20px;">
            <li><strong>EFT Transfers:</strong> 1-3 business days</li>
            <li>Your deposit will be reviewed by our team</li>
            <li>We'll notify you once the funds are verified</li>
        </ul>
    </div>
    
    <div style="text-align: center; margin: 30px 0;">
        <a href="{{ site_url|default:'https://capitalx-rtn.onrender.com' }}/wallet" class="btn">View Wallet</a>
        <a href="{{ site_url|default:'https://capitalx-rtn.onrender.com' }}/dashboard" class="btn btn-secondary" style="margin-left: 10px;">Go to Dashboard</a>
    </div>
    
    <p><strong>What's Next?</strong></p>
    <ol style="margin-left: 20px;">
        <li>Complete your EFT transfer to our bank account</li>
        <li>Upload proof of payment if you haven't already</li>
        <li>Wait for our team to verify your transaction (1-3 business days)</li>
        <li>Funds will be added to your wallet once verified</li>
        <li>You'll receive a confirmation email when processing is complete</li>
    </ol>
    
    <p>If you have any questions about this deposit, please don't hesitate to contact our support team.</p>
    
    <p>Happy investing!</p>
    <p>The CapitalX Team</p>
</div>
{% endblock %}